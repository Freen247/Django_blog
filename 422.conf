server {
    # listen       422 ssl http2 default_server;
    # listen       [::]:422 ssl http2 default_server;
    listen       422 ;
    listen       [::]:422 ;
    server_name  django_web;
    #root         /usr/share/nginx/html;
    # ssl证书配置
    # ssl_certificate      /etc/nginx/ssl/certificate.crt;
    # ssl_certificate_key  /etc/nginx/ssl/private.key;
    # ssl_session_cache shared:SSL:1m;
    # ssl_session_timeout  10m;
    # ssl_ciphers HIGH:!aNULL:!MD5;
    # ssl_prefer_server_ciphers on;

    access_log   /var/log/nginx/access_443.log main;
    error_log    /var/log/nginx/error_443.log;

    location / {
            root /home/root/dist;
            index index.html;
            expires 1d;
    }


    location ~^/(api) {
        # include uwsgi_params;

        uwsgi_pass 127.0.0.1:8000;
        uwsgi_send_timeout 6000;        # 指定连接到后端uWSGI的超时时间。
        uwsgi_connect_timeout 6000;     # 指定向uWSGI传送请求的超时时间，完成握手后向uWSGI传送请求的超时时间。
        uwsgi_read_timeout 6000;        # 指定接收uWSGI应答的超时时间，完成握手后接收uWSGI应答的超时时间。
        include /etc/nginx/uwsgi_params;
        client_max_body_size 100M;
        # 峰值速度：burst＋原来的处理速度
        # proxy_pass http://127.0.0.1:8000;
    }
}

