{% extends "base.html" %}
{% load static %}
{% block content %}
                <!-- BLOG POSTS -->
                {% for post in post_list %}
                <!-- POST 1 -->
                <div href="{% url 'detail' id=post.id %}" class="card card-horizontal">
                    <div class="card-body">
                        <div class="card-horizontal-left">
                            <div class="card-category">
                                <a href="{% url 'detail' id=post.id %}">{{ post.category }}</a> </div>
                            <h3 class="card-title"><a href="{% url 'detail' id=post.id %}">{{ post.title }}</a></h3>
                            <div class="card-excerpt">
                                <p>                            
                                    {#striptags用于过滤正文中所有的HTML标签#}
                                    {#truncatechars用于截取正文前150个字符#}
                                    {{ post.content|striptags|truncatechars:150 }}
                                </p>
                            </div>
                            <div class="card-horizontal-meta">
                                <div class="eskimo-author-meta">
                                    By <a class="author-meta" href="{% url 'detail' id=post.id %}">ROOT</a>
                                </div>
                                <div class="eskimo-date-meta">
                                    <a href="{% url 'detail' id=post.id %}">{{ post.pub_time |date:'Y-m-d' }}</a>
                                </div>
                                <div class="eskimo-reading-meta">{{ post.views }}次浏览</div>
                            </div>
                        </div>
                        <div class="card-horizontal-right" data-img="{% static 'uploads/2018/05/blog18-1024x682.jpg' %}">
                            <a class="card-featured-img" href="{% url 'detail' id=post.id %}"></a>
                        </div>
                    </div>
                </div>
                {% endfor %}
                <!-- PAGINATION -->
                 {% if post_list.object_list and post_list.paginator.num_pages > 1 %}
                <div class="eskimo-pager">
                    <ul class='pagination flex-wrap'>
                        <li class='page-item'><a class='page-link' href="#"><i class="fa fa-chevron-left"></i></a></li>
                        {% for post in post_list %}
                        <li class='page-item active'><a class='page-link' href='#'>a</a></li>
                        {% endfor %}
                        <li class='page-item'><a class='page-link' href="#"><i class="fa fa-chevron-right"></i></a></li>
                    </ul>
                </div>
                {% endif %}
                <div class="clearfix"></div>
                
                <!-- DIVIDER -->
                <hr class="section-divider" />
{% endblock %}   